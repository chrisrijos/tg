<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>Dynamic egi column</title>
    <script src="/resources/polymer/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="/resources/polymer/paper-styles/paper-styles-classes.html">
    <link rel="import" href="/resources/polymer/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="/resources/polymer/paper-input/paper-input.html">
    <link rel="import" href="/resources/polymer/iron-icon/iron-icon.html">
    <link rel="import" href="/resources/polymer/iron-icons/iron-icons.html">
    <link rel="import" href="/resources/egi/tg-entity-grid-inspector.html">
    <link rel="import" href="/resources/egi/tg-property-column.html">
    <link rel="import" href="egi-comp-spike-alt.html">

    <style>
        html {
            font-size: 10pt;
        }
        body {
            font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 10pt;
        }
    </style>

</head>

<body unresolved class="fullbleed">
    <template is="dom-bind" id="app" class="layout vertical">
        <div class="layout horizontal" style="padding:20px 0">
            <paper-input label="property" style="margin-right:20px" value="{{columnProperty}}"></paper-input>
            <paper-input label="width" style="margin-right:20px" value="{{columnWidth}}"></paper-input>
            <paper-input label="min width" style="margin-right:20px" value="{{columnMinWidth}}"></paper-input>
            <paper-input label="title" style="margin-right:20px" value="{{columnTitle}}"></paper-input>
            <paper-input label="desc" style="margin-right:20px" value="{{columnDesc}}"></paper-input>
            <paper-icon-button icon="icons:add" on-tap="addColumn" ></paper-icon-button>
            <paper-icon-button icon="icons:clear" on-tap="removeLastColumn" ></paper-icon-button>
        </div>
        <tg-entity-grid-inspector>
            <template is="dom-repeat" items="[[columns]]">
                <tg-property-column property="[[item.property]]" width="[[item.width]]" min-width="[[item.minWidth]]" grow-factor="0" type="String" column-title="[[item.title]]" column-desc="[[item.desc]]"></tg-property-column>
            </template>
        </tg-entity-grid-inspector>
    </template>
    <script>
        (function () {
            const app = document.querySelector('#app');
            app.columns = [];
            app.addColumn = function () {
                app.push("columns", {property:app.columnProperty, width: app.columnWidth, minWidth: app.columnMinWidth, title: app.columnTitle, desc: app.columnDesc});
            }
            app.removeLastColumn = function () {
                app.splice("columns", app.columns.length - 1, 1);
            }
        })();
    </script>
</body>

