<link rel="import" href="/resources/polymer/polymer/polymer.html">

<link rel="import" href="/resources/components/tree-table/tg-hierarchy-tree-table-cell.html">
<link rel="import" href="/resources/components/tree-table/tg-tree-table-regular-cell.html">

<dom-module id="tg-tree-table-cell">
    <template>
        <template is="dom-if" if="[[_isHierarchyColumn(column)]]">
            <tg-hierarchy-tree-table-cell column="[[column]]" entity="[[entity]]" highlighted="[[highlighted]]" collapsed="{{collapsed}}"></tg-hierarchy-tree-table-cell>
        </template>
        <template is="dom-if" if="[[!_isHierarchyColumn(column)]]">
            <tg-tree-table-regular-cell column="[[column]]" entity="[[entity.entity]]"></tg-tree-table-regular-cell>
        </template>
    </template>
    <script>
        (function () {
            Polymer({

                is: "tg-tree-table-cell",

                properties: {
                    column: Object,
                    entity: Object,
                    highlighted: Boolean,
                    collapsed: {
                        type: Boolean,
                        notify: true
                    }
                },

                _isHierarchyColumn: function (column) {
                    return column.isHierarchyProperty();
                }
            });
        })();
    </script>
</dom-module>