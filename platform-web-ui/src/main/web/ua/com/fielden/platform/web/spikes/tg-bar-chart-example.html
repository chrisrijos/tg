<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>d3 chart spike</title>
    <script src="/resources/polymer/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="/resources/polymer/iron-flex-layout/classes/iron-flex-layout.html">
    <link rel="import" href="/app/tg-app-config.html">
    <link rel="import" href="/app/tg-reflector.html">
    <link rel="import" href="/resources/components/tg-bar-chart/tg-bar-chart.html">
    
    <style>
        tg-bar-chart {
            min-width: 500px;
            min-height: 200px;
        }
    </style>

</head>

<body unresolved class="fullbleed">
    <template is="dom-bind" id="app">
        <tg-app-config id="appConfig"></tg-app-config>
        <tg-reflector id="reflector"></tg-reflector>
        <tg-bar-chart id="chart" class="fit"></tg-bar-chart>
    </template>
    <script>
        (function () {
            var app = document.querySelector('#app');
            app.addEventListener('dom-change', function() {
                app.$.chart.options = {
                    dataPropertyNames: {
                        id: d => d.id,
                        groupKeyProp: d => d.name,
                        groupDescProp: d => d.name,
                        valueProps: [d => d.value],
                    },
                    label: "Bar chart example",
                    xAxis: {label: "Letters"},
                    yAxis: {label: "Frequency"},
                    margin: {
                        left: 60,
                        top: 40,
                        bottom: 50
                    },
                    barColour: d => d.color,
                    barLabel: d => d.value,
                    selectedColour: colour => "white",
                    tooltip: d => "<b>" + d.name + "</b>(<i>" + d.value + "</i>)",
                    click: d => {},
                };
                app.$.chart.data = [{id:0, name: 'A', value: 0.08167, color: "aquamarine"},
                            {id:1, name: 'B', value: 0.01492, color: "brown"},
                            {id:2, name: 'C', value: 0.02782, color: "cornflowerblue"},
                            {id:3, name: 'D', value: 0.04253, color: "darkorange"},
                            {id:4, name: 'E', value: 0.12702, color: "Indianred"},
                            {id:5, name: 'F', value: 0.02288, color: "gold"},
                            {id:6, name: 'G', value: 0.02015, color: "fiebrick"},
                            {id:7, name: 'H', value: 0.06094, color: "mediumorchid"},
                            {id:8, name: 'I', value: 0.06966, color: "palevioletred"},
                            {id:9, name: 'J', value: 0.00153, color: "royalblue"},
                            {id:10, name: 'K', value: 0.00772, color: "palegreen"},
                            {id:11, name: 'L', value: 0.04025, color: "mistyrose"},
                            {id:12, name: 'M', value: 0.02406, color: "lightcoral"},
                            {id:13, name: 'N', value: 0.06749, color: "lightskyblue"},
                            {id:14, name: 'O', value: 0.07507, color: "mediumspringgreen"},
                            {id:15, name: 'P', value: 0.01929, color: "orangered"},
                            {id:16, name: 'Q', value: 0.00095, color: "orchid"},
                            {id:17, name: 'R', value: 0.05987, color: "palegoldenrod"},
                            {id:18, name: 'S', value: 0.06327, color: "peachpuff"},
                            {id:19, name: 'T', value: 0.09056, color: "powderblue"},
                            {id:20, name: 'U', value: 0.02758, color: "plum"},
                            {id:21, name: 'V', value: 0.00978, color: "salmon"},
                            {id:22, name: 'W', value: 0.02360, color: "seagreen"},
                            {id:23, name: 'X', value: 0.00150, color: "slateblue"},
                            {id:24, name: 'Y', value: 0.01974, color: "yellowgreen"},
                            {id:25, name: 'Z', value: 0.00074, color: "yellow"}];
            });
        })();
      
    </script>
</body>

